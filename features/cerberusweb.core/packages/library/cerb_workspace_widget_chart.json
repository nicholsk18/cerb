{
  "package": {
    "name": "Chart",
    "revision": 1,
    "requires": {
      "cerb_version": "10.4.0",
      "plugins": [

      ]
    },
    "library": {
      "name": "Chart",
      "uri": "cerb_workspace_widget_chart",
      "description": "A highly configurable data query driven visualization",
      "point": "workspace_widget",
      "image": "data:image/png;base64,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"
    },
    "configure": {
      "placeholders": [

      ],
      "prompts": [
        {
          "type": "chooser",
          "label": "Workspace Dashboard",
          "key": "workspace_tab_id",
          "hidden": true,
          "params": {
            "context": "cerberusweb.contexts.workspace.tab",
            "single": true,
            "query": ""
          }
        },
        {
          "type": "picklist",
          "label": "Dataset:",
          "key": "prompt_dataset",
          "params": {
            "options": {
              "Line: Tickets created by year": "line_tickets_per_year",
              "Pie: Tickets created this year by bucket": "pie_tickets_per_month_by_group",
              "Stacked Bar: Messages sent per worker by group": "stacked_messages_per_worker_by_group",
              "Stacked Bar: Tickets per group by status": "stacked_tickets_per_group_by_status",
              "Time Series: Tickets created per month by group": "timeseries_tickets_per_month_by_group"
            }
          }
        }
      ]
    }
  },
  "records": [
    {
      "uid": "widget_line_tickets_per_year",
      "_context": "cerberusweb.contexts.workspace.widget",
      "_exclude": "{{% if prompt_dataset != 'line_tickets_per_year' %}}true{{% endif %}}",
      "label": "Tickets created by year",
      "extension_id": "cerb.workspace.widget.chart.kata",
      "tab_id": "{{{workspace_tab_id}}}",
      "pos": 1,
      "width_units": 4,
      "zone": "content",
      "params": {
        "datasets_kata": "dataQuery/tickets:\r\n  query@text:\r\n    type:worklist.subtotals\r\n    of:ticket\r\n    by:[created@year]\r\n    query:(status:!d)\r\n    format: timeseries",
        "placeholder_simulator_kata": "",
        "chart_kata": "data:\r\n  type: line\r\n  series:\r\n    tickets:\r\n      x_key: ts\r\n      name: Tickets\r\n\r\naxis:\r\n  x:\r\n    type: timeseries\r\n    tick:\r\n      format: %Y\r\n\r\ntooltip:\r\n  grouped@bool: no"
      }
    },
    {
      "uid": "widget_pie_tickets_per_month_by_group",
      "_context": "cerberusweb.contexts.workspace.widget",
      "_exclude": "{{% if prompt_dataset != 'pie_tickets_per_month_by_group' %}}true{{% endif %}}",
      "label": "Tickets created this year by bucket",
      "extension_id": "cerb.workspace.widget.chart.kata",
      "tab_id": "{{{workspace_tab_id}}}",
      "pos": 1,
      "width_units": 4,
      "zone": "content",
      "params": {
        "datasets_kata": "dataQuery/tickets:\r\n  query@text:\r\n    type:worklist.subtotals\r\n    of:ticket\r\n    by.count:[group_bucket]\r\n    query:(created:\"this year\")\r\n    format:pie",
        "placeholder_simulator_kata": "",
        "chart_kata": "data:\r\n  type: pie\r\n  series:\r\n    tickets:"
      }
    },
    {
      "uid": "stacked_messages_per_worker_by_group",
      "_context": "cerberusweb.contexts.workspace.widget",
      "_exclude": "{{% if prompt_dataset != 'stacked_messages_per_worker_by_group' %}}true{{% endif %}}",
      "label": "Messages sent per worker by group",
      "extension_id": "cerb.workspace.widget.chart.kata",
      "tab_id": "{{{workspace_tab_id}}}",
      "pos": 1,
      "width_units": 4,
      "zone": "content",
      "params": {
        "datasets_kata": "dataQuery/messages:\r\n  query@text:\r\n    type:worklist.subtotals\r\n    of:message\r\n    by:[worker~25,group~25]\r\n    query:(\r\n      created:\"-1 year to now\" \r\n      isOutgoing:y \r\n      isBroadcast:n\r\n      worker:(isDisabled:n id:>0)\r\n    )\r\n    format:categories",
        "placeholder_simulator_kata": "",
        "chart_kata": "color:\r\n  patterns:\r\n    category10@csv: #1f77b4, #ff7f0e, #2ca02c, #d62728, #9467bd, #8c564b, #e377c2, #7f7f7f, #bcbd22, #17becf\r\n\r\ndata:\r\n  type: bar\r\n  series:\r\n    messages:\r\n      x_key: label\r\n      color_pattern: category10\r\n  stacks:\r\n    0@csv: messages\r\n\r\naxis:\r\n  rotated@bool: yes\n  x:\r\n    type: category\r\n    tick:\r\n      rotate: -90\r\n      multiline@bool: no\r\n      fit@bool: no"
      }
    },
    {
      "uid": "widget_stacked_tickets_per_group_by_status",
      "_context": "cerberusweb.contexts.workspace.widget",
      "_exclude": "{{% if prompt_dataset != 'stacked_tickets_per_group_by_status' %}}true{{% endif %}}",
      "label": "Tickets per group by status",
      "extension_id": "cerb.workspace.widget.chart.kata",
      "tab_id": "{{{workspace_tab_id}}}",
      "pos": 1,
      "width_units": 4,
      "zone": "content",
      "params": {
        "datasets_kata": "dataQuery/tickets:\r\n  query@text:\r\n    type:worklist.subtotals\r\n    of:ticket\r\n    by:[group~50,status]\r\n    query:(status:!d)\r\n    format: categories",
        "placeholder_simulator_kata": "",
        "chart_kata": "data:\r\n  type: bar\r\n  series:\r\n    tickets:\r\n      x_key: label\r\n  stacks:\r\n    0@csv: tickets\r\n\r\naxis:\r\n  rotated@bool: yes\r\n  x:\r\n    type: category\r\n\r\ntooltip:\r\n  grouped@bool: no"
      }
    },
    {
      "uid": "widget_timeseries_tickets_per_month_by_group",
      "_context": "cerberusweb.contexts.workspace.widget",
      "_exclude": "{{% if prompt_dataset != 'timeseries_tickets_per_month_by_group' %}}true{{% endif %}}",
      "label": "Tickets created per month by group",
      "extension_id": "cerb.workspace.widget.chart.kata",
      "tab_id": "{{{workspace_tab_id}}}",
      "pos": 1,
      "width_units": 4,
      "zone": "content",
      "params": {
        "datasets_kata": "dataQuery/tickets:\r\n  query@text:\r\n    type:worklist.subtotals\r\n    of:ticket\r\n    by.count:[created@month,group]\r\n    query:(created:\"first day of this month -1 year\")\r\n    format:timeseries",
        "placeholder_simulator_kata": "",
        "chart_kata": "data:\r\n  type: bar\r\n  series:\r\n    tickets:\r\n      x_key: ts\r\n  stacks:\r\n    0@csv: tickets\r\n\r\naxis:\r\n  x:\r\n    type: timeseries\r\n    tick:\r\n      format: %B '%y\r\n\r\ntooltip:\r\n  grouped@bool: no"
      }
    }
  ]
}